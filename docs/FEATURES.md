# HanaNaviLite 추가 기능 목록

기본 MVP 완성 후 단계별로 추가할 고도화 기능들입니다.

---

## 📋 **Phase 1.5: 즉시 추가 (고우선순위)**

### **1. 파일 파서 확장**
- [x] **HWP 파서** - 한국 특화 문서 형식 (최우선)
  - `python-hwp` 또는 `hwp5` 라이브러리 활용
  - 한국 공공기관/은행 필수 형식
  - 메모리 영향 최소
  
- [x] **PPT/PPTX 파서** - 프레젠테이션 파일
  - `python-pptx` 라이브러리 활용
  - 슬라이드별 텍스트 추출
  - 발표 자료 검색 지원

- [x] **CSV 파서** - 데이터 파일
  - `pandas` 기반 구조화 데이터 처리
  - 표 형태 데이터 검색 최적화
  - 메모리 효율적 처리

### **2. 멀티턴 대화 시스템**
- [x] **대화 세션 관리** 
  - SQLite 기반 대화 히스토리 저장
  - 세션별 컨텍스트 유지 (최대 5턴)
  - 메모리 효율적 구현

- [x] **컨텍스트 인식 검색**
  - 이전 질문 맥락을 고려한 검색 쿼리 생성
  - 대화 흐름에 따른 답변 조정
  - "그것은 뭐야?", "더 자세히" 등 지시어 처리

- [x] **대화 상태 관리**
  - 주제 변경 감지
  - 세션 타임아웃 처리
  - 대화 초기화 기능

---

## 📋 **Phase 2: 중기 추가 (중우선순위)**

### **3. 이미지 처리 (OCR)**
- [x] **PDF 내 이미지 OCR**
  - `pytesseract` + 한국어 언어팩
  - 스캔된 문서 텍스트 추출
  - GPU 메모리 최적화

- [x] **이미지 첨부 파일 처리**
  - JPG, PNG 등 이미지 파일 OCR
  - 캡처된 공지사항 처리
  - 이미지 내 표/차트 텍스트화

- [x] **레이아웃 인식**
  - 표, 차트 구조 인식
  - 다단 레이아웃 처리
  - 이미지-텍스트 위치 관계 파악

### **4. 고급 검색 기능**
- [x] **시맨틱 필터링**
  - 주제별 자동 문서 분류 (공지/규정/안내 등)
  - 카테고리 기반 검색 강화
  - 은행 업무 도메인 특화 분류

- [x] **시간 범위 검색**
  - "최근 3개월", "작년 동기" 등 자연어 시간 표현
  - 상대적 날짜 처리
  - 시계열 기반 필터링

- [x] **연관 문서 추천**
  - 현재 문서와 유사한 주제 추천
  - 사용자 검색 패턴 학습
  - 개인화 추천 시스템

- [x] **키워드 자동 확장**
  - 동의어, 관련어 검색
  - 은행 업무 용어 사전 구축
  - 쿼리 확장 및 개선

### **5. 답변 품질 향상**
- [x] **답변 신뢰도 시스템**
  - 출처 신뢰도 점수 계산
  - 답변 확실성 표시
  - 불확실한 답변에 대한 경고

- [x] **답변 스타일 조정**
  - 간단/상세 모드 선택
  - 전문가/일반인 모드
  - 답변 길이 조절

- [x] **도메인 특화 답변**
  - 은행 업무 용어 특화
  - 규정/절차 답변 템플릿
  - 전문 용어 해설 기능

---

## 📋 **Phase 3: 장기 추가 (저우선순위)**

### **6. 운영 편의 기능**
- [x] **사용 통계 대시보드**
  - 인기 질문 순위
  - 검색 패턴 분석
  - 사용자 행동 분석

- [x] **답변 품질 피드백**
  - 👍/👎 + 상세 피드백
  - 답변 개선 제안 수집
  - A/B 테스트 지원

- [x] **자동 성능 튜닝**
  - 검색 가중치 자동 조정
  - 하이브리드 검색 비율 최적화
  - 성능 지표 기반 자동 개선

- [x] **관리자 도구**
  - 문서 재색인 도구
  - 시스템 상태 모니터링
  - 배치 작업 관리

### **7. 고급 멀티모달**
- [x] **표/차트 구조 분석**
  - 표 데이터 구조화
  - 차트 데이터 추출
  - 수치 데이터 질의응답

- [x] **이미지-텍스트 통합 검색**
  - 이미지와 텍스트 동시 검색
  - 다모달 임베딩 활용
  - 시각적 요소 검색

### **8. 고도화 기능**
- [x] **자동 요약 기능**
  - 긴 문서 자동 요약
  - 핵심 내용 추출
  - 요약 품질 평가

- [x] **질문 자동 생성**
  - 문서 기반 FAQ 자동 생성
  - 예상 질문 추천
  - 프로액티브 정보 제공

- [x] **다국어 지원**
  - 영어 문서 처리
  - 다국어 질의응답
  - 자동 번역 기능

---

## 🎯 **구현 우선순위 매트릭스**

| 기능 | 중요도 | 구현 난이도 | 메모리 영향 | 우선순위 |
|------|--------|-------------|-------------|----------|
| HWP 파서 | ⭐⭐⭐ | 🔧 낮음 | 📊 낮음 | **1순위** |
| 멀티턴 대화 | ⭐⭐⭐ | 🔧🔧 보통 | 📊 낮음 | **2순위** |
| 이미지 OCR | ⭐⭐ | 🔧🔧 보통 | 📊📊 보통 | **3순위** |
| PPT 파서 | ⭐⭐ | 🔧 낮음 | 📊 낮음 | **4순위** |
| 답변 신뢰도 | ⭐ | 🔧🔧🔧 높음 | 📊📊 보통 | **5순위** |

---

## 📝 **구현 가이드**

### **추가 의존성**
```txt
# Phase 1.5 추가 패키지
python-hwp==0.1.1        # HWP 파서
python-pptx==0.6.21      # PPT 파서
pandas==2.0.3            # CSV 처리

# Phase 2 추가 패키지  
pytesseract==0.3.10      # OCR
Pillow==10.0.1           # 이미지 처리
opencv-python==4.8.1    # 이미지 전처리

# Phase 3 추가 패키지
scikit-learn==1.3.0     # 클러스터링, 분류
matplotlib==3.7.2       # 시각화
plotly==5.17.0          # 대시보드
```

### **메모리 사용량 예상**
- **Phase 1.5**: +1GB (멀티턴 세션 관리)
- **Phase 2**: +2-3GB (OCR 모델, 고급 검색)
- **Phase 3**: +1-2GB (통계, 대시보드)

**총 메모리 예상**: 25GB (기본) + 4-6GB (확장) = **29-31GB**
→ 32GB 환경에서 **안전한 범위**

---

## 🔄 **마이그레이션 전략**

### **기존 시스템 영향 최소화**
1. **독립 모듈 설계** - 기존 코드 수정 없이 플러그인 방식
2. **점진적 배포** - 기능별 단계적 활성화
3. **A/B 테스트** - 신기능과 기존 기능 성능 비교
4. **롤백 계획** - 문제 발생 시 즉시 이전 버전 복구

### **성능 모니터링**
- 각 Phase별 메모리 사용량 측정
- 응답 시간 영향도 분석
- 정확도 변화 추적
- 사용자 만족도 평가
